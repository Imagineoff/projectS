<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kladenské Dílny | Prezentace</title>
    <link rel="icon" href="https://i.imgur.com/tCvSBHQ.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Kanit:wght@600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #000000;
            --text-main: #ffffff;
            --text-muted: #9a9aa0;
            --accent: #FFC700;
            --accent-glow: rgba(255, 199, 0, 0.2);
            --border: rgba(255, 255, 255, 0.06);
            --apple-ease: cubic-bezier(0.25, 1, 0.5, 1);
            --up-color: #27ae60;
            --down-color: #e74c3c;
            --neutral-color: #9a9aa0;
        }
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            background-color:var(--bg);
            color:var(--text-main);
            font-family:'Inter',sans-serif;
            overflow-x:hidden;
            line-height:1.5;
            -webkit-font-smoothing:antialiased;
        }
        .ambient-bg{
            position:fixed;inset:0;height:100vh;z-index:-2;
            background: radial-gradient(circle at 18% 50%, rgba(255,199,0,0.06), transparent 20%);
            filter:blur(36px);
        }
        .grid-lines{
            position:fixed;inset:0;height:100vh;z-index:-1;
            background-image:linear-gradient(var(--border) 1px, transparent 1px);
            background-size:100% 120px;opacity:0.12;
            mask-image:linear-gradient(to bottom, transparent, black 18%, black 82%, transparent);
        }
        .container{max-width:1080px;margin:0 auto;padding:28px 28px 100px;position:relative;z-index:2}
        h1,h2,h3{font-family:'Kanit',sans-serif;letter-spacing:-0.02em}
        
        header{display:flex;justify-content:space-between;align-items:center;padding:20px 0;margin-bottom:48px}
        .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:white;font-weight:700;font-size:18px;text-transform:uppercase}
        .brand img{width:44px;height:44px;border-radius:8px}
        nav{display:flex;align-items:center}
        .nav-link{color:var(--text-muted);text-decoration:none;font-size:14px;font-weight:600;margin-left:18px;transition:color .2s}
        .nav-link:hover{color:white}

        .hero{min-height:40vh;display:flex;flex-direction:column;justify-content:center;text-align:center;padding:40px 0}
        .hero h1{font-size:clamp(36px,7vw,72px);background:linear-gradient(180deg,#fff 0%,#b9b9bf 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        
        .btn-cta{display:inline-block;background:var(--accent);color:#111;padding:12px 28px;border-radius:999px;font-weight:700;text-decoration:none;font-size:14px;box-shadow:0 6px 30px var(--accent-glow);transition:transform .18s;border:none;cursor:pointer}
        .btn-cta:hover{transform:translateY(-2px)}

        /* Presentation Section */
        .section-title{margin:36px 0 12px}
        .bento-card{background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:18px;padding:26px;backdrop-filter:blur(12px)}
        
        /* FULLSCREEN OVERLAY */
        #presentation-overlay {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: none; /* Skryté defaultně */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #presentation-overlay.active {
            display: flex;
            opacity: 1;
        }
        .overlay-image-container {
            width: 80%;
            max-width: 1000px;
            aspect-ratio: 16/9;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 0 100px rgba(255,199,0,0.1);
        }
        .overlay-image-container img {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; inset: 0;
            opacity: 0; transition: opacity 0.8s ease;
        }
        .overlay-image-container img.active { opacity: 1; }
        
        .overlay-controls {
            margin-top: 30px;
            text-align: center;
            color: white;
            z-index: 10000;
        }
        .close-overlay {
            position: absolute; top: 30px; right: 40px;
            background: none; border: 1px solid rgba(255,255,255,0.2);
            color: white; padding: 10px 20px; border-radius: 8px;
            cursor: pointer; font-weight: 600;
        }

        /* Bus Tracker */
        .bus-tracker-wrapper{position:fixed;left:0;top:0;height:100vh;width:84px;z-index:110;pointer-events:none}
        .bus-mover{position:absolute;left:10px;width:60px;transition:top .1s linear;transform:rotate(90deg)}
        .bus-graphic{width:100%;filter:drop-shadow(0 0 10px rgba(0,0,0,0.5))}

        .reveal-node{opacity:0;transform:translateY(20px);transition:all 0.6s ease-out}
        .reveal-node.visible{opacity:1;transform:translateY(0)}
    </style>
</head>
<body>
    <div class="ambient-bg"></div>
    <div class="grid-lines"></div>

    <div class="container">
        <header class="reveal-node">
            <a href="#" class="brand">
                <img src="https://i.imgur.com/tCvSBHQ.png" alt="KD Logo">
                <span>Kladenské Dílny</span>
            </a>
            <nav>
                <a href="#" class="nav-link">Discord</a>
                <a href="#" class="nav-link">TikTok</a>
            </nav>
        </header>

        <section class="hero">
            <h1 class="reveal-node">Tvoje cesta.<br>Náš standard.</h1>
            <p class="reveal-node" style="color:var(--text-muted); margin: 20px 0;">Zažij novou úroveň dopravy v Robloxu.</p>
        </section>

        <div class="section-title reveal-node">
            <h2>Speciální Prezentace</h2>
        </div>

        <div class="bento-card reveal-node" style="text-align: center;">
            <p style="margin-bottom: 20px; color: var(--text-muted);">Po kliknutí se stránka zatemní a spustí se hudební prezentace.<br>Každé dohrání skladby přepne na další obrázek.</p>
            <button id="start-btn" class="btn-cta">Spustit zážitek</button>
        </div>
    </div>

    <div id="presentation-overlay">
        <button class="close-overlay" id="close-btn">Zavřít (ESC)</button>
        
        <div class="overlay-image-container" id="img-container">
            </div>

        <div class="overlay-controls">
            <div id="slide-info" style="font-size: 1.2rem; font-weight: 800; color: var(--accent); margin-bottom: 5px;">Snímek 1 / 3</div>
            <div id="play-status" style="font-size: 0.9rem; color: #666;">Přehrávání hudby...</div>
        </div>
    </div>

    <div class="bus-tracker-wrapper">
        <div class="bus-mover" id="bus">
            <img src="https://i.imgur.com/ahYsvMG.png" class="bus-graphic" alt="Bus">
        </div>
    </div>

    <script>
        /* ============================
           KONFIGURACE PREZENTACE
           ============================ */
        const config = {
            audioSrc: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3', // NAHRAĎ SVOU HUDBOU
            images: [
                'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?auto=format&fit=crop&q=80&w=1000', 
                'https://images.unsplash.com/photo-1570125909232-eb263c188f7e?auto=format&fit=crop&q=80&w=1000',
                'https://images.unsplash.com/photo-1562620644-66ba476f4bc2?auto=format&fit=crop&q=80&w=1000'
            ]
        };

        // Elementy
        const startBtn = document.getElementById('start-btn');
        const overlay = document.getElementById('presentation-overlay');
        const closeBtn = document.getElementById('close-btn');
        const imgContainer = document.getElementById('img-container');
        const slideInfo = document.getElementById('slide-info');
        
        let currentIndex = 0;
        const audio = new Audio(config.audioSrc);

        // Inicializace obrázků do overlaye
        config.images.forEach((src, idx) => {
            const img = document.createElement('img');
            img.src = src;
            if(idx === 0) img.classList.add('active');
            imgContainer.appendChild(img);
        });

        const allImages = imgContainer.querySelectorAll('img');

        function updateSlide(index) {
            allImages.forEach(img => img.classList.remove('active'));
            allImages[index].classList.add('active');
            slideInfo.innerText = `Snímek ${index + 1} / ${config.images.length}`;
        }

        // Spuštění
        startBtn.addEventListener('click', () => {
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Zákaz scrollování
            currentIndex = 0;
            updateSlide(currentIndex);
            audio.currentTime = 0;
            audio.play();
        });

        // Logika přepínání: 1 PLAY = 1 OBRÁZEK
        audio.addEventListener('ended', () => {
            currentIndex++;
            if (currentIndex < config.images.length) {
                updateSlide(currentIndex);
                audio.currentTime = 0;
                audio.play();
            } else {
                // Koniec prezentace
                exitPresentation();
            }
        });

        function exitPresentation() {
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
            audio.pause();
        }

        closeBtn.addEventListener('click', exitPresentation);
        window.addEventListener('keydown', (e) => { if(e.key === 'Escape') exitPresentation(); });

        /* BUS TRACKER LOGIKA */
        const bus = document.getElementById('bus');
        window.addEventListener('scroll', () => {
            const scrollPercent = window.scrollY / (document.documentElement.scrollHeight - window.innerHeight);
            const trackHeight = window.innerHeight - 100;
            bus.style.top = (scrollPercent * trackHeight) + 50 + 'px';
        });

        /* REVEAL ANIMACE */
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal-node').forEach(el => observer.observe(el));
    </script>
</body>
</html>
